@model List<MyWebApp.Models.Announcement>
@{
    bool isAdmin = ViewBag.IsAdmin ?? false;
}

<h2>ðŸ“° Announcements</h2>

@if (isAdmin)
{
    <a href="/Home/AddAnnouncement" class="btn btn-primary mb-3">+ Add Announcement</a>
}

@if (Model.Count == 0)
{
    <p>No announcements yet.</p>
}
else
{
    @foreach (var announcement in Model)
    {
        <div class="card my-3">
            <div class="card-body">
                <h5 class="card-title">@announcement.Title</h5>
                <p class="card-text">@announcement.Message</p>

                @if (isAdmin)
                {
                    <form asp-action="DeleteAnnouncement" method="post" style="display:inline;">
                        <input type="hidden" name="id" value="@announcement.Id" />
                        <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                    </form>
                }
            </div>
        </div>
    }
}